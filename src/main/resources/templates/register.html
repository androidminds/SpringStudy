<html xmlns:th="http://www.w3.org/1999/xhtml">

    <head>
        <title>注册</title>
        <script type="text/javascript">

            function compare_password(password, repeat, msg) {
                if(password.value != repeat.value) {
                    alert(msg);
                    return false;
                }
                return true;
            }

            function validate_required(field, msg) {
                with (field) {
                    if (value==null||value=="") {
                        alert(msg);
                        return false
                    }
                    else {
                        return true
                    }
                }
            }

            function validate_form(thisform) {
                with (thisform) {
                    if (validate_required(userName,"User name must be filled out!") == false) {
                        userName.focus();
                        return false
                    }
                    if (validate_required(password,"Password must be filled out!") == false) {
                        password.focus();
                        return false
                    }
                    if (validate_required(repeat,"Repeated password must be filled out!") == false) {
                        repeat.focus();
                        return false
                    }
                    if (compare_password(password, repeat, "Two password must be equal!") == false) {
                        password.focus();
                        return false
                    }
                }
                return true;
            }

            function send_form (thisform) {
                if(validate_form(thisform)) {
                    thisform.submit();
                }
            }
        </script>

    </head>
    <body>

    <p th:text="${error}"></p>

    <form name="form1" action="registerCheck.html"  method="post">
        <table>
            <tr>
                <td>用户名：</td>
                <td><input type="text" name="userName"/></td>
            </tr>
            <tr>
                <td>密 码1：</td>
                <td><input type="password" name="password"/></td>
            </tr>
            <tr>
                <td>密 码2：</td>
                <td><input type="password" name="repeat"/></td>
            </tr>
        <tr>
            <td><input type="button" value="注册" onclick="send_form(form1)"/></td>
        </tr>
        </table>
    </form>

    </body>
</html>
